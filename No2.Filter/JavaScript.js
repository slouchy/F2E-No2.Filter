let data = `{"records": [{"ticktinfo": "\u514d\u8cbb\u53c3\u89c0", "Zone": "\u4e09\u6c11\u5340", "Px": "120.30211", "Py": "22.63961", "Add": "\u9ad8\u96c4\u5e02\u4e09\u6c11\u5340\u5efa\u570b\u4e8c\u8def318\u865f", "Gov": "397000000A", "Class2": null, "Class1": "3", "Website": "", "Opentime": "\u9031\u4e8c\u81f3\u9031\u65e510:00-18:00\uff0c\u6bcf\u9031\u4e00\u516c\u4f11", "Description": "\u9ad8\u96c4\u9858\u666f\u9928\u7684\u524d\u8eab\u662f\u65e5\u6cbb\u6642\u671f\u8208\u5efa\u7684\u9ad8\u96c4\u5e02\u820a\u706b\u8eca\u7ad9\uff0c\u5916\u89c0\u662f\u201d\u548c\u6d0b\u6df7\u5408\u5f0f\u5efa\u7bc9\u201d\u6c23\u52e2\u96c4\u5049\uff0c\u5167\u90e8\u5247\u70ba\u897f\u5f0f\u7684\u7384\u95dc\u53ca\u5927\u5ef3\u30022002\u5e74\u70ba\u4e86\u914d\u5408\u9435\u8def\u3001\u6377\u904b\u3001\u9ad8\u9435\u7684\u4e09\u9435\u5171\u69cb\uff0c\u9019\u68df\u8001\u706b\u8eca\u7ad9\u5efa\u7bc9\u7269\u9077\u79fb\u5230\u9644\u8fd1\u7684\u7a7a\u5730\u4e0a\uff0c\u4e26\u7531\u5e02\u5e9c\u898f\u5283\uff0c\u4ee5”\u6578\u4f4d\u535a\u7269\u9928”\u7684\u578b\u5f0f\uff0c\u5176\u4e2d\u6b77\u53f2\u8ff4\u5eca\u5c0d\u65bc\u9435\u9053\u6587\u5316\u53ca\u5f80\u65e5\u98a8\u8c8c\u6709\u4e00\u7cfb\u5217\u56de\u9867\uff0c\u8b93\u904a\u5ba2\u53ef\u4ee5\u91cd\u6eab\u8001\u8eca\u7ad9\u7684\u904e\u5f80\u98a8\u83ef\uff0c\u800c3D\u865b\u64ec\u4e92\u52d5\u5340\u5247\u8b93\u53c3\u89c0\u8005\u4ee5\u865b\u64ec\u5be6\u5883\u7684\u65b9\u5f0f\u98db\u8d8a\u9ad8\u96c4\u7684\u91cd\u8981\u666f\u9ede\u4e26\u540c\u6642\u898b\u8b49\u9ad8\u96c4\u7684\u767c\u5c55\u6b77\u53f2\u3002\u9858\u666f\u9928\u662f\u8a8d\u8b58\u9ad8\u96c4\u904e\u53bb\u8207\u672a\u4f86\u7684\u6700\u4f73\u5834\u6240\uff0c\u800c\u9858\u666f\u6a4b\u3001\u9435\u8def\u6587\u5316\u68e7\u9053\u3001\u98a8\u7684\u795d\u798f\u5ee3\u5834\u2026\u7b49\u516c\u5171\u85dd\u8853\u5340\u4e5f\u662f\u904a\u5ba2\u5011\u6700\u611b\u99d0\u8db3\u8207\u62cd\u7167\u7559\u5ff5\u7684\u7f8e\u9e97\u666f\u9ede\u3002", "Remarks": "", "Parkinginfo_py": "0", "Parkinginfo_px": "0", "Name": "\u9ad8\u96c4\u9858\u666f\u9928", "Level": null, "Picture1": "http://khh.travel/FileArtPic.ashx?id=705&w=1280&h=960", "Toldescribe": "\u9ad8\u96c4\u9858\u666f\u9928\u7684\u524d\u8eab\u662f\u65e5\u6cbb\u6642\u671f\u8208\u5efa\u7684\u9ad8\u96c4\u5e02\u820a\u706b\u8eca\u7ad9\uff0c\u5916\u89c0\u662f\u201d\u548c\u6d0b\u6df7\u5408\u5f0f\u5efa\u7bc9\u201d\u6c23\u52e2\u96c4\u5049\uff0c\u5167\u90e8\u5247\u70ba\u897f\u5f0f\u7684\u7384\u95dc\u53ca\u5927\u5ef3\u30022002\u5e74\u70ba\u4e86\u914d\u5408\u9435\u8def\u3001\u6377\u904b\u3001\u9ad8\u9435\u7684\u4e09\u9435\u5171\u69cb\uff0c\u9019\u68df\u8001\u706b\u8eca\u7ad9\u5efa\u7bc9\u7269\u9077\u79fb\u5230\u9644\u8fd1\u7684\u7a7a\u5730\u4e0a\uff0c\u4e26\u7531\u5e02\u5e9c\u898f\u5283\uff0c\u4ee5”\u6578\u4f4d\u535a\u7269\u9928”\u7684\u578b\u5f0f\uff0c\u5176\u4e2d\u6b77\u53f2\u8ff4\u5eca\u5c0d\u65bc\u9435\u9053\u6587\u5316\u53ca\u5f80\u65e5\u98a8\u8c8c\u6709\u4e00\u7cfb\u5217\u56de\u9867\uff0c\u8b93\u904a\u5ba2\u53ef\u4ee5\u91cd\u6eab\u8001\u8eca\u7ad9\u7684\u904e\u5f80\u98a8\u83ef\uff0c\u800c3D\u865b\u64ec\u4e92\u52d5\u5340\u5247\u8b93\u53c3\u89c0\u8005\u4ee5\u865b\u64ec\u5be6\u5883\u7684\u65b9\u5f0f\u98db\u8d8a\u9ad8\u96c4\u7684\u91cd\u8981\u666f\u9ede\u4e26\u540c\u6642\u898b\u8b49\u9ad8\u96c4\u7684\u767c\u5c55\u6b77\u53f2\u3002\u9858\u666f\u9928\u662f\u8a8d\u8b58\u9ad8\u96c4\u904e\u53bb\u8207\u672a\u4f86\u7684\u6700\u4f73\u5834\u6240\uff0c\u800c\u9858\u666f\u6a4b\u3001\u9435\u8def\u6587\u5316\u68e7\u9053\u3001\u98a8\u7684\u795d\u798f\u5ee3\u5834\u2026\u7b49\u516c\u5171\u85dd\u8853\u5340\u4e5f\u662f\u904a\u5ba2\u5011\u6700\u611b\u99d0\u8db3\u8207\u62cd\u7167\u7559\u5ff5\u7684\u7f8e\u9e97\u666f\u9ede\u3002", "Changetime": "2015-06-10T15:40:33", "Tel": "886-7-2363357", "Picdescribe1": "\u9ad8\u96c4\u9858\u666f\u9928?", "Travellinginfo": "", "_id": 1, "Id": "C1_397000000A_000009"}, {"ticktinfo": "\u514d\u8cbb\u53c3\u89c0", "Zone": "\u4e09\u6c11\u5340", "Px": "120.28357", "Py": "22.64668", "Add": "\u9ad8\u96c4\u5e02\u4e09\u6c11\u5340\u540c\u76df\u4e09\u8def\u8207\u5341\u5168\u4e09\u8def\u4ea4\u53c9\u8655", "Gov": "397000000A", "Class2": null, "Class1": "2", "Website": "", "Opentime": "\u5168\u5929\u5019\u958b\u653e", "Description": "\u4e32\u8d77\u9ad8\u96c4\u57ce\u5e02\u751f\u614b\u7da0\u5eca\u7684\u4e2d\u90fd\u611b\u6cb3\u6fd5\u5730\u516c\u5712\u5ea7\u843d\u65bc\u611b\u6cb3\u5357\u5074\u7684\u5341\u5168\u8207\u4e5d\u5982\u8def\u4e4b\u9593\uff0c\u5168\u9577\u7d042.5\u516c\u91cc\uff0c\u4f54\u5730\u9054\u4e03\u5343\u9918\u5e73\u65b9\u516c\u5c3a\u3002\u70ba\u4e86\u6253\u9020\u8207\u5e02\u6c11\u751f\u6d3b\u878d\u5408\u7684\u300c\u6c34\u5cb8\u82b1\u9999\u7684\u6c38\u7e8c\u751f\u614b\u57ce\u5e02\u300d\uff0c\u611b\u6cb3\u6fd5\u5730\u516c\u5712\u4ee5\u751f\u614b\u5de5\u6cd5\u69cb\u7bc9\u908a\u5761\uff0c\u91cd\u73fe\u65e9\u671f\u6ebc\u5730\u8c50\u5bcc\u751f\u614b\u68f2\u606f\u74b0\u5883\u3002\u5712\u5340\u8a2d\u7f6e\u539f\u6728\u5efa\u7bc9\u70ba\u904a\u5ba2\u89e3\u8aaa\u4e2d\u5fc3\uff0c\u53e6\u6709\u6728\u9020\u6dbc\u4ead\u3001\u540a\u6a4b\u3001\u6f6e\u6c50\u89aa\u6c34\u5e73\u53f0\u4ee5\u53ca\u6f02\u6d41\u6728\u70ba\u8a2d\u8a08\u4e3b\u8ef8\u7684\u71c8\u5177\u5ea7\u6905\u7b49\u8a2d\u65bd\uff0c\u8cea\u6a38\u4e2d\u6df1\u5177\u539f\u91ce\u6c23\u606f\uff0c\u800c\u4eff\u81ea\u7136\u7684\u8907\u5c64\u6797\u76f8\u690d\u683d\u4e5f\u4f7f\u5e02\u5340\u91cd\u73fe\u8c50\u5bcc\u6797\u76f8\u3002\u60a0\u904a\u65bc\u7da0\u6cb9\u6cb9\u66f2\u6298\u73b2\u74cf\u7684\u6cb3\u5cb8\u53ef\u898b\u5404\u7a2e\u6c34\u9ce5\u98db\u7fd4\u99d0\u7559\u3001\u7d05\u6a39\u6797\u548c\u6fd5\u5730\u66f4\u4f7f\u611b\u6cb3\u91cd\u73fe\u76ce\u7136\u751f\u6a5f\u3002\u7531\u65bc\u4e2d\u90fd\u6fd5\u5730\u516c\u5712\u6253\u9020\u51fa\u517c\u5177\u81ea\u7136\u751f\u614b\u3001\u6559\u80b2\u89e3\u8aaa\u53ca\u6c11\u773e\u4f11\u61a9\u7b49\u773e\u591a\u529f\u80fd\uff0c\u53c8\u5b8c\u6574\u5448\u73fe\u611b\u6cb3\u6cbf\u5cb8\u591a\u6a23\u6027\u7684\u98a8\u8c8c\uff0c2012\u5e74\u69ae\u7372\u300c\u5168\u7403\u5353\u8d8a\u5efa\u8a2d\u734e\u300d\u6b8a\u69ae\uff0c\u4e5f\u56e0\u6b64\u6709\u9ad8\u96c4\u90fd\u6703\u6843\u82b1\u6e90\u7684\u7f8e\u7a31\u3002", "Remarks": "", "Parkinginfo_py": "0", "Parkinginfo_px": "0", "Name": "\u4e2d\u90fd\u611b\u6cb3\u6fd5\u5730\u516c\u5712", "Level": null, "Picture1": "http://khh.travel/FileArtPic.ashx?id=1846&w=1280&h=960", "Toldescribe": "\u4e32\u8d77\u9ad8\u96c4\u57ce\u5e02\u751f\u614b\u7da0\u5eca\u7684\u4e2d\u90fd\u611b\u6cb3\u6fd5\u5730\u516c\u5712\u5ea7\u843d\u65bc\u611b\u6cb3\u5357\u5074\u7684\u5341\u5168\u8207\u4e5d\u5982\u8def\u4e4b\u9593\uff0c\u5168\u9577\u7d042.5\u516c\u91cc\uff0c\u4f54\u5730\u9054\u4e03\u5343\u9918\u5e73\u65b9\u516c\u5c3a\u3002\u70ba\u4e86\u6253\u9020\u8207\u5e02\u6c11\u751f\u6d3b\u878d\u5408\u7684\u300c\u6c34\u5cb8\u82b1\u9999\u7684\u6c38\u7e8c\u751f\u614b\u57ce\u5e02\u300d\uff0c\u611b\u6cb3\u6fd5\u5730\u516c\u5712\u4ee5\u751f\u614b\u5de5\u6cd5\u69cb\u7bc9\u908a\u5761\uff0c\u91cd\u73fe\u65e9\u671f\u6ebc\u5730\u8c50\u5bcc\u751f\u614b\u68f2\u606f\u74b0\u5883\u3002\u5712\u5340\u8a2d\u7f6e\u539f\u6728\u5efa\u7bc9\u70ba\u904a\u5ba2\u89e3\u8aaa\u4e2d\u5fc3\uff0c\u53e6\u6709\u6728\u9020\u6dbc\u4ead\u3001\u540a\u6a4b\u3001\u6f6e\u6c50\u89aa\u6c34\u5e73\u53f0\u4ee5\u53ca\u6f02\u6d41\u6728\u70ba\u8a2d\u8a08\u4e3b\u8ef8\u7684\u71c8\u5177\u5ea7\u6905\u7b49\u8a2d\u65bd\uff0c\u8cea\u6a38\u4e2d\u6df1\u5177\u539f\u91ce\u6c23\u606f\uff0c\u800c\u4eff\u81ea\u7136\u7684\u8907\u5c64\u6797\u76f8\u690d\u683d\u4e5f\u4f7f\u5e02\u5340\u91cd\u73fe\u8c50\u5bcc\u6797\u76f8\u3002\u60a0\u904a\u65bc\u7da0\u6cb9\u6cb9\u66f2\u6298\u73b2\u74cf\u7684\u6cb3\u5cb8\u53ef\u898b\u5404\u7a2e\u6c34\u9ce5\u98db\u7fd4\u99d0\u7559\u3001\u7d05\u6a39\u6797\u548c\u6fd5\u5730\u66f4\u4f7f\u611b\u6cb3\u91cd\u73fe\u76ce\u7136\u751f\u6a5f\u3002\u7531\u65bc\u4e2d\u90fd\u6fd5\u5730\u516c\u5712\u6253\u9020\u51fa\u517c\u5177\u81ea\u7136\u751f\u614b\u3001\u6559\u80b2\u89e3\u8aaa\u53ca\u6c11\u773e\u4f11\u61a9\u7b49\u773e\u591a\u529f\u80fd\uff0c\u53c8\u5b8c\u6574\u5448\u73fe\u611b\u6cb3\u6cbf\u5cb8\u591a\u6a23\u6027\u7684\u98a8\u8c8c\uff0c2012\u5e74\u69ae\u7372\u300c\u5168\u7403\u5353\u8d8a\u5efa\u8a2d\u734e\u300d\u6b8a\u69ae\uff0c\u4e5f\u56e0\u6b64\u6709\u9ad8\u96c4\u90fd\u6703\u6843\u82b1\u6e90\u7684\u7f8e\u7a31\u3002", "Changetime": "2015-06-02T13:59:00", "Tel": "886-7-7995678", "Picdescribe1": "\u4e2d\u90fd\u611b\u6cb3\u6fd5\u5730\u516c\u5712", "Travellinginfo": "", "_id": 2, "Id": "C1_397000000A_000010"}, {"ticktinfo": "\u514d\u8cbb\u53c3\u89c0", "Zone": "\u4e09\u6c11\u5340", "Px": "120.32707", "Py": "22.6727", "Add": "\u9ad8\u96c4\u5e02\u4e09\u6c11\u5340\u9f0e\u91d1\u5f8c\u8def461\u5df7", "Gov": "397000000A", "Class2": null, "Class1": "2", "Website": "", "Opentime": "\u5168\u5929\u5019\u958b\u653e", "Description": "\u72f9\u9577\u578b\u7684\u6aa8\u4ed4\u6797\u57e4\u6fd5\u5730\u516c\u5712\u4f4d\u65bc\u9ad8\u96c4\u5e02\u4e09\u6c11\u5340\uff0c\u9f0e\u91d1\u5f8c\u8def\u8207\u9f0e\u91d1\u7cfb\u7d71\u4ea4\u6d41\u9053\u4e4b\u9593\uff0c\u662f\u9ad8\u96c4\u5e02\u8fd1\u5e74\u4f86\u6574\u6cbb\u6210\u529f\uff0c\u517c\u5177\u6eef\u6d2a\u3001\u9632\u6d2a\u3001\u4f11\u9592\u6559\u80b2\u8207\u751f\u614b\u529f\u80fd\u7684\u57e4\u5858\u6fd5\u5730\u516c\u5712\u4e4b\u4e00\u3002\u5712\u5340\u5317\u5074\u6709\u300c\u751f\u614b\u5bc6\u6797\u5340\u300d\uff0c\u8302\u5bc6\u7684\u539f\u751f\u6aa8\u4ed4\u6a39\u6797\u5982\u540c\u90fd\u5e02\u4e4b\u80ba\uff0c\u53ef\u4ee5\u963b\u9694\u3001\u7de9\u885d\u5317\u5074\u9ad8\u901f\u516c\u8def\u5c0d\u751f\u614b\u8207\u74b0\u5883\u9020\u6210\u7684\u5e72\u64fe; \u300c\u751f\u614b\u7dad\u6301\u5340\u300d\u5247\u5c07\u539f\u6709\u5730\u5f62\u758f\u6d5a\u6df1\u5316\uff0c\u5f62\u6210\u751f\u614b\u6d6e\u5cf6\u8207\u6c34\u57df\u683d\u57f9\u80b2\u5340\uff0c\u904d\u690d\u91ce\u8591\u82b1\u3001\u6148\u83c7\u3001\u9999\u84b2\u7b49\u6c34\u751f\u690d\u7269\uff0c\u5229\u7528\u751f\u614b\u6c60\u6c34\u9ad4\u81ea\u6de8\u6a5f\u5236\u6de8\u5316\u6c34\u8cea\u3002\u6e05\u65b0\u7684\u74b0\u5883\u8207\u81ea\u7136\u7684\u7da0\u610f\uff0c\u5438\u5f15\u6c34\u9ce5\u8207\u751f\u7269\u68f2\u606f\uff0c\u8173\u8e0f\u8eca\u9053\u8207\u6797\u852d\u7da0\u610f\u63d0\u4f9b\u904a\u4eba\u4f11\u61a9\u653e\u9b06\u7684\u6e05\u6de8\u89d2\u843d\uff0c\u4e5f\u662f\u9ad8\u96c4\u5e02\u7f8e\u9e97\u7684\u5f8c\u82b1\u5712\u3002", "Remarks": "", "Parkinginfo_py": "0", "Parkinginfo_px": "0", "Name": "\u6aa8\u4ed4\u6797\u57e4\u6fd5\u5730\u516c\u5712", "Level": null, "Picture1": "http://khh.travel/FileArtPic.ashx?id=979&w=1280&h=960", "Toldescribe": "\u72f9\u9577\u578b\u7684\u6aa8\u4ed4\u6797\u57e4\u6fd5\u5730\u516c\u5712\u4f4d\u65bc\u9ad8\u96c4\u5e02\u4e09\u6c11\u5340\uff0c\u9f0e\u91d1\u5f8c\u8def\u8207\u9f0e\u91d1\u7cfb\u7d71\u4ea4\u6d41\u9053\u4e4b\u9593\uff0c\u662f\u9ad8\u96c4\u5e02\u8fd1\u5e74\u4f86\u6574\u6cbb\u6210\u529f\uff0c\u517c\u5177\u6eef\u6d2a\u3001\u9632\u6d2a\u3001\u4f11\u9592\u6559\u80b2\u8207\u751f\u614b\u529f\u80fd\u7684\u57e4\u5858\u6fd5\u5730\u516c\u5712\u4e4b\u4e00\u3002\u5712\u5340\u5317\u5074\u6709\u300c\u751f\u614b\u5bc6\u6797\u5340\u300d\uff0c\u8302\u5bc6\u7684\u539f\u751f\u6aa8\u4ed4\u6a39\u6797\u5982\u540c\u90fd\u5e02\u4e4b\u80ba\uff0c\u53ef\u4ee5\u963b\u9694\u3001\u7de9\u885d\u5317\u5074\u9ad8\u901f\u516c\u8def\u5c0d\u751f\u614b\u8207\u74b0\u5883\u9020\u6210\u7684\u5e72\u64fe; \u300c\u751f\u614b\u7dad\u6301\u5340\u300d\u5247\u5c07\u539f\u6709\u5730\u5f62\u758f\u6d5a\u6df1\u5316\uff0c\u5f62\u6210\u751f\u614b\u6d6e\u5cf6\u8207\u6c34\u57df\u683d\u57f9\u80b2\u5340\uff0c\u904d\u690d\u91ce\u8591\u82b1\u3001\u6148\u83c7\u3001\u9999\u84b2\u7b49\u6c34\u751f\u690d\u7269\uff0c\u5229\u7528\u751f\u614b\u6c60\u6c34\u9ad4\u81ea\u6de8\u6a5f\u5236\u6de8\u5316\u6c34\u8cea\u3002\u6e05\u65b0\u7684\u74b0\u5883\u8207\u81ea\u7136\u7684\u7da0\u610f\uff0c\u5438\u5f15\u6c34\u9ce5\u8207\u751f\u7269\u68f2\u606f\uff0c\u8173\u8e0f\u8eca\u9053\u8207\u6797\u852d\u7da0\u610f\u63d0\u4f9b\u904a\u4eba\u4f11\u61a9\u653e\u9b06\u7684\u6e05\u6de8\u89d2\u843d\uff0c\u4e5f\u662f\u9ad8\u96c4\u5e02\u7f8e\u9e97\u7684\u5f8c\u82b1\u5712\u3002", "Changetime": "2015-06-02T14:03:30", "Tel": "886-7-7995678", "Picdescribe1": "\u6aa8\u4ed4\u6797\u57e4\u6fd5\u5730\u516c\u5712", "Travellinginfo": "", "_id": 3, "Id": "C1_397000000A_000011"}]}`;
data = JSON.parse(data);

//----------------------------------------------------------------

$(function () {
    InitDDL($(".ddl-location"), "Zone");
    InitDDL($(".ddl-price"), "ticktinfo");
    SetFilterResult();
})

function InitDDL($ddl, column) {
    data.records.map((item, i) => {
        return item[column];
    }).filter((item, i, arr) => {
        if (arr.indexOf(item) === i) {
            $ddl.append(`<option value='${item}'>${item}</option>`);
        }
    });
}

function SetFilterResult(keyword, location, price) {
    let $list = $(".result-content");
    keyword = keyword || "";
    location = location || "";
    price = price || "";
    $list.html("");
    data.records.map((item, i) => {
        var itemHTML = GetSearchTemplate()
            .replace("[imgSrc]", `${item.Picture1.substring(0, item.Picture1.indexOf("&") + 1)}w=220`)
            .replace("[title]", item.Name)
            .replace("[desc]", item.Description)
            .replace("[zone]", item.Zone)
            .replace("[price]", item.ticktinfo)
            .replace("[openTime]", item.Opentime);
        $list.append(itemHTML);
    });
}

function GetSearchTemplate() {
    return `<div>
            <img src="[imgSrc]" alt="">
            <div class="detail">
              <h4>[title]</h4>
              <p>[desc]</p>
              <div class="info">
                <div>
                  <i class="fas fa-map-marker-alt"></i>[zone]
                </div>
                <div>
                  <i class="fas fa-dollar-sign"></i>[price]
                </div>
                <div>
                  <i class="far fa-calendar-alt"></i>[openTime]
                </div>
              </div>
            </div>
          </div>`;
}
